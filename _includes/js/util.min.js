!function(n){n.fn.navList=function(){var e=n(this);$a=e.find("a"),b=[];$a.each(function(){var e=n(this),t=Math.max(0,e.parents("li").length-1),a=e.attr("href"),i=e.attr("target");b.push('<a class="link depth-'+t+'"'+("undefined"!==typeof i&&""!=i?' target="'+i+'"':"")+("undefined"!==typeof a&&""!=a?' href="'+a+'"':"")+'><span class="indent-'+t+'"></span>'+e.text()+"</a>")});return b.join("")};n.fn.panel=function(e){if(0==this.length)return s;if(this.length>1){for(var t=0;t<this.length;t++)n(this[t]).panel(e);return s}var s=n(this),a=n("body"),i=n(window),l=s.attr("id"),f,f=n.extend({delay:0,hideOnClick:false,hideOnEscape:false,hideOnSwipe:false,resetScroll:false,resetForms:false,side:null,target:s,visibleClass:"visible"},e);if("jQuery"!=typeof f.target)f.target=n(f.target);s._hide=function(e){if(f.target.hasClass(f.visibleClass)){if(e){e.preventDefault();e.stopPropagation()}f.target.removeClass(f.visibleClass);window.setTimeout(function(){if(f.resetScroll)s.scrollTop(0);if(f.resetForms)s.find("form").each(function(){this.reset()})},f.delay)}};s.css("-ms-overflow-style","-ms-autohiding-scrollbar").css("-webkit-overflow-scrolling","touch");if(f.hideOnClick){s.find("a").css("-webkit-tap-highlight-color","rgba(0,0,0,0)");s.on("click","a",function(e){var t=n(this),a=t.attr("href"),i=t.attr("target");if(a&&"#"!=a&&""!=a&&a!="#"+l){e.preventDefault();e.stopPropagation();s._hide();window.setTimeout(function(){if("_blank"==i)window.open(a);else window.location.href=a},f.delay+10)}})}s.on("touchstart",function(e){s.touchPosX=e.originalEvent.touches[0].pageX;s.touchPosY=e.originalEvent.touches[0].pageY});s.on("touchmove",function(e){if(null!==s.touchPosX&&null!==s.touchPosY){var t=s.touchPosX-e.originalEvent.touches[0].pageX,a=s.touchPosY-e.originalEvent.touches[0].pageY,i=s.outerHeight(),l=s.get(0).scrollHeight-s.scrollTop();if(f.hideOnSwipe){var n=false,o=20,r=50;switch(f.side){case"left":n=a<o&&a>-1*o&&t>r;break;case"right":n=a<o&&a>-1*o&&t<-1*r;break;case"top":n=t<o&&t>-1*o&&a>r;break;case"bottom":n=t<o&&t>-1*o&&a<-1*r;break;default:break}if(n){s.touchPosX=null;s.touchPosY=null;s._hide();return false}}if(s.scrollTop()<0&&a<0||l>i-2&&l<i+2&&a>0){e.preventDefault();e.stopPropagation()}}});s.on("click touchend touchstart touchmove",function(e){e.stopPropagation()});s.on("click",'a[href="#'+l+'"]',function(e){e.preventDefault();e.stopPropagation();f.target.removeClass(f.visibleClass)});a.on("click touchend",function(e){s._hide(e)});a.on("click",'a[href="#'+l+'"]',function(e){e.preventDefault();e.stopPropagation();f.target.toggleClass(f.visibleClass)});if(f.hideOnEscape)i.on("keydown",function(e){if(27==e.keyCode)s._hide(e)});return s};n.fn.placeholder=function(){if("undefined"!=typeof document.createElement("input").placeholder)return n(this);if(0==this.length)return t;if(this.length>1){for(var e=0;e<this.length;e++)n(this[e]).placeholder();return t}var t=n(this);t.find("input[type=text],textarea").each(function(){var e=n(this);if(""==e.val()||e.val()==e.attr("placeholder"))e.addClass("polyfill-placeholder").val(e.attr("placeholder"))}).on("blur",function(){var e=n(this);if(!e.attr("name").match(/-polyfill-field$/))if(""==e.val())e.addClass("polyfill-placeholder").val(e.attr("placeholder"))}).on("focus",function(){var e=n(this);if(!e.attr("name").match(/-polyfill-field$/))if(e.val()==e.attr("placeholder"))e.removeClass("polyfill-placeholder").val("")});t.find("input[type=password]").each(function(){var a=n(this),i=n(n("<div>").append(a.clone()).remove().html().replace(/type="password"/i,'type="text"').replace(/type=password/i,"type=text"));if(""!=a.attr("id"))i.attr("id",a.attr("id")+"-polyfill-field");if(""!=a.attr("name"))i.attr("name",a.attr("name")+"-polyfill-field");i.addClass("polyfill-placeholder").val(i.attr("placeholder")).insertAfter(a);if(""==a.val())a.hide();else i.hide();a.on("blur",function(e){e.preventDefault();var t=a.parent().find("input[name="+a.attr("name")+"-polyfill-field]");if(""==a.val()){a.hide();t.show()}});i.on("focus",function(e){e.preventDefault();var t=i.parent().find("input[name="+i.attr("name").replace("-polyfill-field","")+"]");i.hide();t.show().focus()}).on("keypress",function(e){e.preventDefault();i.val("")})});t.on("submit",function(){t.find("input[type=text],input[type=password],textarea").each(function(e){var t=n(this);if(t.attr("name").match(/-polyfill-field$/))t.attr("name","");if(t.val()==t.attr("placeholder")){t.removeClass("polyfill-placeholder");t.val("")}})}).on("reset",function(e){e.preventDefault();t.find("select").val(n("option:first").val());t.find("input,textarea").each(function(){var e=n(this),t;e.removeClass("polyfill-placeholder");switch(this.type){case"submit":case"reset":break;case"password":e.val(e.attr("defaultValue"));t=e.parent().find("input[name="+e.attr("name")+"-polyfill-field]");if(""==e.val()){e.hide();t.show()}else{e.show();t.hide()}break;case"checkbox":case"radio":e.attr("checked",e.attr("defaultValue"));break;case"text":case"textarea":e.val(e.attr("defaultValue"));if(""==e.val()){e.addClass("polyfill-placeholder");e.val(e.attr("placeholder"))}break;default:e.val(e.attr("defaultValue"));break}})});return t};n.prioritize=function(e,i){var l="__prioritize";if("jQuery"!=typeof e)e=n(e);e.each(function(){var e=n(this),t,a=e.parent();if(0!=a.length)if(!e.data(l)){if(i){t=e.prev();if(0!=t.length){e.prependTo(a);e.data(l,t)}}}else if(!i){t=e.data(l);e.insertAfter(t);e.removeData(l)}})}}(jQuery);